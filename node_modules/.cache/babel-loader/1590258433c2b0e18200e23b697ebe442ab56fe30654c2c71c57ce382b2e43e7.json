{"ast":null,"code":"var _jsxFileName = \"/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/components/Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { myData, deletePost, handleMessage } from '../ajax-requests';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Profile = _ref => {\n  _s();\n  let {\n    posts,\n    postMessage\n  } = _ref;\n  const navigate = useNavigate();\n  const [message, setMessage] = useState('');\n  const handleDelete = async postId => {\n    const deleted = await deletePost(postId);\n    return deleted;\n  };\n  async function handleMessage(postId) {\n    const result = await postMessage({\n      postId,\n      message\n    });\n    console.log('message', result);\n    setMessage();\n  }\n  const handleSubmit = async event => {\n    if (results.success) {\n      navigate('/profile');\n    }\n    handleMessage(posts._id);\n  };\n  function refreshPage() {\n    window.location.reload();\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: posts && (posts === null || posts === void 0 ? void 0 : posts.map(post => {\n        var _posts$messages;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"postTitle\",\n            children: [\"Title: \", post.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"postPrice\",\n            children: [\"Price: $\", post.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"postDescription\",\n            children: [\"Description: \", post.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onSubmit: handleSubmit,\n            className: \"myMessages\",\n            children: (_posts$messages = posts.messages) === null || _posts$messages === void 0 ? void 0 : _posts$messages.map(message => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"gotMessages\",\n                  children: \"message:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"messageUserName\",\n                  children: [\"From: \", message.fromUser.username]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"messageContent\",\n                  children: [\"\\\"\", message.content, \"\\\"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 41\n                }, this)]\n              }, message._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 37\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: post.active === true ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"deleteButton\",\n              onClick: () => {\n                handleDelete(post._id);\n                refreshPage();\n              },\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 54\n            }, this) : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)]\n        }, post._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this);\n      }))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(Profile, \"59apga7pLYDp2c+eYOFRYYezPtA=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","myData","deletePost","handleMessage","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_ref","_s","posts","postMessage","navigate","message","setMessage","handleDelete","postId","deleted","result","console","log","handleSubmit","event","results","success","_id","refreshPage","window","location","reload","children","map","post","_posts$messages","className","title","fileName","_jsxFileName","lineNumber","columnNumber","price","description","onSubmit","messages","fromUser","username","content","active","onClick","_c","$RefreshReg$"],"sources":["/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { myData, deletePost, handleMessage } from '../ajax-requests'\nimport {  useNavigate } from 'react-router-dom'\n\n\nconst Profile = ({ posts, postMessage }) => {\n\n  const navigate= useNavigate();    \n\n  const [message, setMessage] = useState('')\n\n    const handleDelete = async (postId) => {\n        const deleted = await deletePost(postId)\n        return deleted;\n\n       \n    }\n\n    async function handleMessage(postId) {\n        const result = await postMessage ({postId, message})\n       console.log('message', result)\n        setMessage();\n    }\n\n    const handleSubmit = async (event) => {\n        if (results.success) {\n            navigate('/profile')\n        }\n        handleMessage(posts._id);\n\n    }\n\n   \n    function refreshPage() {\n        window.location.reload();\n    }\n\n    return (\n     <>\n        <div>\n            {posts && posts?.map((post) => {\n\n            \n                return (\n                    <div className=\"profile\" key={post._id}>\n                        <h2 className=\"postTitle\" >Title: {post.title}</h2>\n                        <h2 className=\"postPrice\">Price: ${post.price}</h2>\n                        <h2 className=\"postDescription\" >Description: {post.description}</h2>\n                        \n\n                        <div onSubmit={handleSubmit} className=\"myMessages\">\n                            {posts.messages?.map((message) => {\n                                return (\n                                    <div key={message._id}>\n                                        <h3 className=\"gotMessages\">message:</h3>\n                                        <h4 className=\"messageUserName\">From: {message.fromUser.username}</h4>\n                                        <h4 className=\"messageContent\">\"{message.content}\"</h4>\n\n                                    </div>)\n                            })\n                            }\n                        </div>\n\n\n                        <div>{post.active === true ? <button className=\"deleteButton\"  onClick={() => {handleDelete(post._id); refreshPage();}}>Delete</button> : ''}\n                        </div>\n                    </div>\n                )\n\n            })}\n            \n        </div>\n    </>\n    )\n};\n\n\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}