{"ast":null,"code":"var _jsxFileName = \"/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/components/Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { myData } from \"../ajax-requests\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = _ref => {\n  _s();\n  let {\n    userData,\n    token\n  } = _ref;\n  const API_URL = `users/me`;\n  const [profileData, setProfileData] = useState({});\n  const [posts, setPosts] = useState({});\n  useEffect(() => {\n    fetchPosts(userData.posts);\n  }, [userData]);\n  const handleSumbit = async postId => {\n    const API_URL = `/posts/${postId}`;\n    event.preventDefault();\n    try {\n      await myData({\n        url: API_URL,\n        method: 'delete',\n        token: token\n      });\n      const remainingPosts = posts.filter(post => post._id !== postId);\n      fetchPosts(remainingPosts);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const getProfile = async () => {\n    const data = await myData({\n      url: API_URL,\n      token\n    });\n    setProfileData(data);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"page-title\",\n      children: [\"This is where your information lives, \", userData.username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-body\",\n      children: [userData.messages && userData.messages.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"inbox-span\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            id: \"inbox\",\n            children: [\" Inbox (\", userData.messages.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 29\n          }, this), userData.messages.map(message => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"message\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                id: \"sender\",\n                children: message.fromUser.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                id: \"message-content\",\n                children: message.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 41\n              }, this)]\n            }, message._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 37\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"There are no messages to display\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), posts && posts.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"user-posts\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Listings you've created: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this), posts.map(post => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: \"1px solid black\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Posted by: \", post.author.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Description: \", post.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Location: \", post.location]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSumbit(post._id),\n              children: \"Delete Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this)]\n          }, post._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 33\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" You haven't created any posts yet. :( \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"oYmSeNyIwBs/xifLBMotB56KSyA=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","Link","myData","jsxDEV","_jsxDEV","Profile","_ref","_s","userData","token","API_URL","profileData","setProfileData","posts","setPosts","fetchPosts","handleSumbit","postId","event","preventDefault","url","method","remainingPosts","filter","post","_id","error","console","getProfile","data","children","className","username","fileName","_jsxFileName","lineNumber","columnNumber","messages","length","id","map","message","fromUser","content","style","border","title","author","description","location","onClick","_c","$RefreshReg$"],"sources":["/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom'\nimport { myData } from \"../ajax-requests\";\n\n\n\n\nconst Profile = ({ userData, token }) => {\n    const API_URL = `users/me`;\n    const [profileData, setProfileData] = useState({});\n    const [posts, setPosts] = useState({});\n\n    useEffect(() => {\n        fetchPosts(userData.posts);\n    }, [userData]);\n\n    const handleSumbit = async (postId) => {\n        const API_URL = `/posts/${postId}`;\n        event.preventDefault();\n        try {\n            await myData({\n                url: API_URL,\n                method: 'delete',\n                token: token,\n            });\n            const remainingPosts = posts.filter((post) => post._id !== postId);\n            fetchPosts(remainingPosts);\n        } catch (error) {\n            console.error(error);\n        }\n    };\n\n    const getProfile = async () => {\n        const data = await myData({\n            url: API_URL,\n            token,\n        });\n\n        setProfileData(data);\n    };\n\n\n    return (\n        <div>\n            <h1 className='page-title'>\n                This is where your information lives, {userData.username}\n            </h1>\n            <div className='profile-body'>\n                {userData.messages && userData.messages.length ? (\n                    <div>\n                        <div id=\"inbox-span\">\n                            <h3 id='inbox'> Inbox ({userData.messages.length})</h3>\n\n                            {userData.messages.map((message) => {\n                                return (\n                                    <div id=\"message\" key={message._id}>\n                                        <label id='sender'>{message.fromUser.username}</label>\n                                        <p id='message-content'>{message.content}</p>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    </div>\n                ) : (\n                    <h3>There are no messages to display</h3>\n                )}\n                {posts && posts.length ? (\n                    <div id='user-posts'>\n                        <h2>Listings you've created: </h2>\n                        {posts.map((post) => {\n                            return (\n                                <div key={post._id} style={{ border: \"1px solid black\" }}>\n                                    <h5>{post.title}</h5>\n                                    <div>Posted by: {post.author.username}</div>\n                                    <div>Description: {post.description}</div>\n                                    <div>Location: {post.location}</div>\n                                    <button onClick={() => handleSumbit(post._id)}>\n                                        Delete Post\n                                    </button>\n                                </div>\n                            );\n                        })}\n                    </div>\n                ) : (\n                    <h2> You haven't created any posts yet. :( </h2>\n                )}\n            </div>\n        </div>\n    );\n};\n\n\n\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}