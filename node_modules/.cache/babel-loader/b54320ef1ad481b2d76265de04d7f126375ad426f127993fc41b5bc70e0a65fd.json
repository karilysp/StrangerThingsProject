{"ast":null,"code":"const COHORT_NAME = '2301-ftb-et-web-pt';\nconst BASE_URL = `https://strangers-things.herokuapp.com/api/${COHORT_NAME}`;\nexport const myData = async _ref => {\n  let {\n    url,\n    method,\n    token,\n    body\n  } = _ref;\n  try {\n    const options = {\n      method: method ? method.toUpperCase() : 'GET',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    };\n    if (token) {\n      options.headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n    const response = await fetch(API_URL + url, options);\n    const data = await response.json();\n    if (data.error) throw data.error;\n    return data;\n  } catch (error) {\n    console.error('ERROR: ', error);\n  }\n};\nexport const registerUser = async user => {\n  try {\n    const response = await fetch(`${BASE_URL}/users/register`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user\n      })\n    });\n    const result = await response.json();\n    // You can log ▲▲▲ the result\n    // here ▼▼▼ to view the json object before returning it\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const fetchPosts = async () => {\n  try {\n    const response = await fetch(`${BASE_URL}/posts`);\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const login = async user => {\n  try {\n    const response = await fetch(`${BASE_URL}/users/login`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user\n      })\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const makePost = async (token, post) => {\n  try {\n    const response = await fetch(`${BASE_URL}/posts`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        post\n      })\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};","map":{"version":3,"names":["COHORT_NAME","BASE_URL","myData","_ref","url","method","token","body","options","toUpperCase","headers","JSON","stringify","response","fetch","API_URL","data","json","error","console","registerUser","user","result","log","err","fetchPosts","login","makePost","post"],"sources":["/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/ajax-requests/index.js"],"sourcesContent":["const COHORT_NAME = '2301-ftb-et-web-pt'\nconst BASE_URL = `https://strangers-things.herokuapp.com/api/${COHORT_NAME}`\n\n\nexport const myData = async ({ url, method, token, body }) => {\n\n    try {\n        const options = {\n            method: method ? method.toUpperCase() : 'GET',\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(body),\n        };\n        if (token) {\n            options.headers[\"Authorization\"] = `Bearer ${token}`;\n        }\n       \n        const response = await fetch(API_URL + url, options);\n        const data = await response.json();\n        if (data.error) throw data.error;\n        return data;\n    } catch (error) {\n        console.error('ERROR: ', error);\n    }\n};\n\n\nexport const registerUser = async (user) => {\n\n    try {\n        const response = await fetch(\n            `${BASE_URL}/users/register`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                user\n\n            })\n        });\n        const result = await response.json();\n        // You can log ▲▲▲ the result\n        // here ▼▼▼ to view the json object before returning it\n        console.log(result)\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const fetchPosts = async () => {\n    try {\n        const response = await fetch(`${BASE_URL}/posts`)\n\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const login = async (user) => {\n\n    try {\n        const response = await fetch(`${BASE_URL}/users/login`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n               user\n            })\n        });\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const makePost = async (token, post) => {\n\n    try {\n        const response = await fetch(`${BASE_URL}/posts`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n               post\n            })\n        });\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}