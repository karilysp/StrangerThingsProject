{"ast":null,"code":"var _jsxFileName = \"/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/components/Posts.js\";\nimport React from 'react';\nimport { fetchPosts } from '../ajax-requests';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst token = window.localStorage.getItem('token');\nconst Posts = props => {\n  console.log(posts);\n  const posts = props.posts;\n  const token = props.token;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Posts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Create a post here:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => createPost(token),\n      children: \"Create Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: posts === null || posts === void 0 ? void 0 : posts.map(post => {\n        console.log(post);\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"cards\",\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            className: post.isAuthor ? \"myPost\" : \"singlePost\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/posts/${post.id}`,\n              className: \"link\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: post.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 31,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: post.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Price: \", post.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Location: \", post.location]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Date Posted: \", post.updatedAt]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Author: \", post.author.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 33\n            }, this), post.isAuthor ? /*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 50\n            }, this) : null]\n          }, post._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 9\n  }, this);\n};\n_c = Posts;\nconst createPost = async token => {\n  try {\n    const response = await fetch(`${`https://strangers-things.herokuapp.com/api/${COHORT_NAME}`}/posts`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        post: {\n          title: `${postTitle}`,\n          description: `${postDescription}`,\n          price: `${postPrice}`,\n          willDeliver: true\n        }\n      })\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport default Posts;\nvar _c;\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["React","fetchPosts","jsxDEV","_jsxDEV","token","window","localStorage","getItem","Posts","props","console","log","posts","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","createPost","map","post","className","isAuthor","Link","to","id","title","description","price","location","updatedAt","author","username","_id","_c","response","fetch","COHORT_NAME","method","headers","body","JSON","stringify","postTitle","postDescription","postPrice","willDeliver","result","json","err","error","$RefreshReg$"],"sources":["/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/components/Posts.js"],"sourcesContent":["import React from 'react';\nimport { fetchPosts } from '../ajax-requests'\n\nconst token = window.localStorage.getItem('token');\n\n\nconst Posts = (props) => {\n    console.log(posts)\n    const posts = props.posts\n    const token = props.token\n\n\n    return (\n        <div>\n            <h1>Posts</h1>\n            <form></form>\n            <p>Create a post here:</p>\n\n            <button onClick={() => createPost(token)}>Create Post</button>\n\n            <ul>\n                {posts?.map((post => {\n                    console.log(post);\n                    return (\n                        <ul className=\"cards\">\n                            <li\n                                key={post._id}\n                                className={post.isAuthor ? \"myPost\" : \"singlePost\"}\n                            >\n                                <Link to={`/posts/${post.id}`} className=\"link\">\n                                    <h3>{post.title}</h3>\n                                </Link>\n                                <p>{post.description}</p>\n                                <p>Price: {post.price}</p>\n                                <p>Location: {post.location}</p>\n                                <p>Date Posted: {post.updatedAt}</p>\n                                <p>Author: {post.author.username}</p>\n                                {post.isAuthor ? <button>Edit</button> : null}\n                            </li>\n                        </ul>\n                    );\n                }))}\n            </ul>\n        </div>\n    );\n};  \n\n\nconst createPost = async (token) => {\n\n    try {\n        const response = await fetch(`${`https://strangers-things.herokuapp.com/api/${COHORT_NAME}`}/posts`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                post: {\n                    title: `${postTitle}`,\n                    description: `${postDescription}`,\n                    price: `${postPrice}`,\n                    willDeliver: true\n                }\n            })\n        });\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport default Posts;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,kBAAkB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE7C,MAAMC,KAAK,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AAGlD,MAAMC,KAAK,GAAIC,KAAK,IAAK;EACrBC,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;EAClB,MAAMA,KAAK,GAAGH,KAAK,CAACG,KAAK;EACzB,MAAMR,KAAK,GAAGK,KAAK,CAACL,KAAK;EAGzB,oBACID,OAAA;IAAAU,QAAA,gBACIV,OAAA;MAAAU,QAAA,EAAI;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,eACdd,OAAA;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAa,eACbd,OAAA;MAAAU,QAAA,EAAG;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAI,eAE1Bd,OAAA;MAAQe,OAAO,EAAEA,CAAA,KAAMC,UAAU,CAACf,KAAK,CAAE;MAAAS,QAAA,EAAC;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS,eAE9Dd,OAAA;MAAAU,QAAA,EACKD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEQ,GAAG,CAAEC,IAAI,IAAI;QACjBX,OAAO,CAACC,GAAG,CAACU,IAAI,CAAC;QACjB,oBACIlB,OAAA;UAAImB,SAAS,EAAC,OAAO;UAAAT,QAAA,eACjBV,OAAA;YAEImB,SAAS,EAAED,IAAI,CAACE,QAAQ,GAAG,QAAQ,GAAG,YAAa;YAAAV,QAAA,gBAEnDV,OAAA,CAACqB,IAAI;cAACC,EAAE,EAAG,UAASJ,IAAI,CAACK,EAAG,EAAE;cAACJ,SAAS,EAAC,MAAM;cAAAT,QAAA,eAC3CV,OAAA;gBAAAU,QAAA,EAAKQ,IAAI,CAACM;cAAK;gBAAAb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAM;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAClB,eACPd,OAAA;cAAAU,QAAA,EAAIQ,IAAI,CAACO;YAAW;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAK,eACzBd,OAAA;cAAAU,QAAA,GAAG,SAAO,EAACQ,IAAI,CAACQ,KAAK;YAAA;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAK,eAC1Bd,OAAA;cAAAU,QAAA,GAAG,YAAU,EAACQ,IAAI,CAACS,QAAQ;YAAA;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAK,eAChCd,OAAA;cAAAU,QAAA,GAAG,eAAa,EAACQ,IAAI,CAACU,SAAS;YAAA;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAK,eACpCd,OAAA;cAAAU,QAAA,GAAG,UAAQ,EAACQ,IAAI,CAACW,MAAM,CAACC,QAAQ;YAAA;cAAAnB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAK,EACpCI,IAAI,CAACE,QAAQ,gBAAGpB,OAAA;cAAAU,QAAA,EAAQ;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAS,GAAG,IAAI;UAAA,GAXxCI,IAAI,CAACa,GAAG;YAAApB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAYZ;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACJ;MAEb,CAAC;IAAE;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACH;AAEd,CAAC;AAACkB,EAAA,GAvCI3B,KAAK;AA0CX,MAAMW,UAAU,GAAG,MAAOf,KAAK,IAAK;EAEhC,IAAI;IACA,MAAMgC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAG,8CAA6CC,WAAY,EAAE,QAAO,EAAE;MACjGC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB;QAClC,eAAe,EAAG,UAASpC,KAAM;MACrC,CAAC;MACDqC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjBtB,IAAI,EAAE;UACFM,KAAK,EAAG,GAAEiB,SAAU,EAAC;UACrBhB,WAAW,EAAG,GAAEiB,eAAgB,EAAC;UACjChB,KAAK,EAAG,GAAEiB,SAAU,EAAC;UACrBC,WAAW,EAAE;QACjB;MACJ,CAAC;IACL,CAAC,CAAC;IACF,MAAMC,MAAM,GAAG,MAAMZ,QAAQ,CAACa,IAAI,EAAE;IACpCvC,OAAO,CAACC,GAAG,CAACqC,MAAM,CAAC;IACnB,OAAOA,MAAM;EACjB,CAAC,CAAC,OAAOE,GAAG,EAAE;IACVxC,OAAO,CAACyC,KAAK,CAACD,GAAG,CAAC;EACtB;AACJ,CAAC;AAED,eAAe1C,KAAK;AAAC,IAAA2B,EAAA;AAAAiB,YAAA,CAAAjB,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}