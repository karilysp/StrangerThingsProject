{"ast":null,"code":"var _jsxFileName = \"/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/components/Profile.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { fetchPosts, myData } from \"../ajax-requests\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = _ref => {\n  let {\n    userData,\n    token\n  } = _ref;\n  // const API_URL = `users/me`;\n  // const [profileData, setProfileData] = useState({});\n  // const [posts, setPosts] = useState({});\n\n  // useEffect(() => {\n  //     setPosts(userData.posts);\n  // }, [userData]);\n\n  // const handleSumbit = async (postId) => {\n  //     const API_URL = `/posts/${postId}`;\n  //     event.preventDefault();\n  //     try {\n  //         await callApi({\n  //             url: API_URL,\n  //             method: 'delete',\n  //             token: token,\n  //         });\n  //         const remainingPosts = posts.filter((post) => post._id !== postId);\n  //         setPosts(remainingPosts);\n  //     } catch (error) {\n  //         console.error(error);\n  //     }\n  // };\n\n  // const getProfile = async () => {\n  //     const data = await myData({\n  //         url: API_URL,\n  //         token,\n  //     });\n\n  //     setProfileData(data);\n  // };\n\n  // console.log(\"DATA\", userData);\n  // console.log(\"POSTS\", userData.posts);\n  // console.log(\"Userdata\", userData);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"page-title\",\n      children: [\"This is where your information lives, \", userData.username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-body\",\n      children: [userData.messages && userData.messages.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"inbox-span\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            id: \"inbox\",\n            children: [\" Inbox (\", userData.messages.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, this), userData.messages.map(message => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"message\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                id: \"sender\",\n                children: message.fromUser.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                id: \"message-content\",\n                children: message.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 41\n              }, this)]\n            }, message._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 37\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"There are no messages to display\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), posts && posts.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"user-posts\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Listings you've created: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this), posts.map(post => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: \"1px solid black\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Posted by: \", post.author.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Description: \", post.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Location: \", post.location]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSumbit(post._id),\n              children: \"Delete Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 37\n            }, this)]\n          }, post._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 33\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" You haven't created any posts yet. :( \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","Link","fetchPosts","myData","jsxDEV","_jsxDEV","Profile","_ref","userData","token","children","className","username","fileName","_jsxFileName","lineNumber","columnNumber","messages","length","id","map","message","fromUser","content","_id","posts","post","style","border","title","author","description","location","onClick","handleSumbit","_c","$RefreshReg$"],"sources":["/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom'\nimport { fetchPosts, myData } from \"../ajax-requests\";\n\n\n\n\nconst Profile = ({ userData, token }) => {\n    // const API_URL = `users/me`;\n    // const [profileData, setProfileData] = useState({});\n    // const [posts, setPosts] = useState({});\n\n    // useEffect(() => {\n    //     setPosts(userData.posts);\n    // }, [userData]);\n\n    // const handleSumbit = async (postId) => {\n    //     const API_URL = `/posts/${postId}`;\n    //     event.preventDefault();\n    //     try {\n    //         await callApi({\n    //             url: API_URL,\n    //             method: 'delete',\n    //             token: token,\n    //         });\n    //         const remainingPosts = posts.filter((post) => post._id !== postId);\n    //         setPosts(remainingPosts);\n    //     } catch (error) {\n    //         console.error(error);\n    //     }\n    // };\n\n    // const getProfile = async () => {\n    //     const data = await myData({\n    //         url: API_URL,\n    //         token,\n    //     });\n\n    //     setProfileData(data);\n    // };\n\n    // console.log(\"DATA\", userData);\n    // console.log(\"POSTS\", userData.posts);\n    // console.log(\"Userdata\", userData);\n\n    return (\n        <div>\n            <h1 className='page-title'>\n                This is where your information lives, {userData.username}\n            </h1>\n            <div className='profile-body'>\n                {userData.messages && userData.messages.length ? (\n                    <div>\n                        <div id=\"inbox-span\">\n                            <h3 id='inbox'> Inbox ({userData.messages.length})</h3>\n\n                            {userData.messages.map((message) => {\n                                return (\n                                    <div id=\"message\" key={message._id}>\n                                        <label id='sender'>{message.fromUser.username}</label>\n                                        <p id='message-content'>{message.content}</p>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    </div>\n                ) : (\n                    <h3>There are no messages to display</h3>\n                )}\n                {posts && posts.length ? (\n                    <div id='user-posts'>\n                        <h2>Listings you've created: </h2>\n                        {posts.map((post) => {\n                            return (\n                                <div key={post._id} style={{ border: \"1px solid black\" }}>\n                                    <h5>{post.title}</h5>\n                                    <div>Posted by: {post.author.username}</div>\n                                    <div>Description: {post.description}</div>\n                                    <div>Location: {post.location}</div>\n                                    <button onClick={() => handleSumbit(post._id)}>\n                                        Delete Post\n                                    </button>\n                                </div>\n                            );\n                        })}\n                    </div>\n                ) : (\n                    <h2> You haven't created any posts yet. :( </h2>\n                )}\n            </div>\n        </div>\n    );\n};\n\n\n\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}