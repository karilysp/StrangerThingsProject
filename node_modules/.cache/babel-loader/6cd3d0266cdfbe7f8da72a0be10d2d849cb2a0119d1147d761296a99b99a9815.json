{"ast":null,"code":"var _jsxFileName = \"/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/components/Profile.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { myData } from '../ajax-requests';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Profile = _ref => {\n  _s();\n  let {\n    token,\n    posts,\n    myData\n  } = _ref;\n  return function (myData) {\n    const [myPosts, setMyPosts] = useState([]);\n    function myData() {}\n    useEffect(() => {\n      setMyPosts(userData.posts);\n    }, [useData]);\n    const deletePost = async (postId, token) => {\n      try {\n        const response = await fetch(`${BASE_URL}/posts/${postId}`, {\n          method: \"DELETE\",\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        const remainingPosts = posts.filter(post => post._id !== postId);\n        setMyPosts(remainingPosts);\n      } catch (error) {\n        console.log('err'.err);\n      }\n    };\n\n    // const handleDelete = async (postId) => {\n    //     await deletePost(postId)\n    //     myData()\n    // }\n\n    useEffect(() => {\n      myData();\n    }, []);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: posts && (posts === null || posts === void 0 ? void 0 : posts.map(post => {\n          var _posts$messages;\n          //     return post.active\n          // }).map((post, i) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"posts_info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"postTitle\",\n              children: [\"Title: \", post.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 25\n            }, _this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"postPrice\",\n              children: [\"Price: $\", post.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 25\n            }, _this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"postDescription\",\n              children: [\"Description: \", post.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 25\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"myMessages\",\n              children: (_posts$messages = posts.messages) === null || _posts$messages === void 0 ? void 0 : _posts$messages.map(message => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"gotMessages\",\n                    children: \"message:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 62,\n                    columnNumber: 41\n                  }, _this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"messageUserName\",\n                    children: [\"From: \", message.fromUser.username]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 63,\n                    columnNumber: 41\n                  }, _this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"messageContent\",\n                    children: [\"\\\"\", message.content, \"\\\"\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 41\n                  }, _this)]\n                }, message._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 37\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 25\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: post.active === true ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"deleteButton\",\n                onClick: () => deletePost(post._id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 54\n              }, _this) : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, _this)]\n          }, post._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }, _this);\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false);\n  }(myData);\n};\n_s(Profile, \"yXAvRJ6NDKy3CSYNLgnLSRrRd6o=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","myData","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_ref","_s","token","posts","myPosts","setMyPosts","userData","useData","deletePost","postId","response","fetch","BASE_URL","method","headers","remainingPosts","filter","post","_id","error","console","log","err","children","map","_posts$messages","className","title","fileName","_jsxFileName","lineNumber","columnNumber","_this","price","description","messages","message","fromUser","username","content","active","onClick","_c","$RefreshReg$"],"sources":["/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { myData } from '../ajax-requests'\n\n\nconst Profile = ({ token, posts, myData }) => {\n\n const [myPosts, setMyPosts] = useState([]);   \n\n\n    function myData() {\n\n    }\n\n    useEffect(() =>{\n        setMyPosts(userData.posts)\n    }, [useData]);\n\n    const deletePost = async (postId, token) => {\n        try {\n            const response = await fetch(`${BASE_URL}/posts/${postId}`, {\n                method: \"DELETE\",\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`\n                }\n            });\n\n            const remainingPosts = posts.filter(post => post._id !== postId);\n           setMyPosts(remainingPosts)\n        } catch (error) {\n            console.log('err'.err);\n        }\n    };\n\n    // const handleDelete = async (postId) => {\n    //     await deletePost(postId)\n    //     myData()\n    // }\n\n    useEffect(() => {\n        myData();\n\n    }, []);\n\n    return (\n     <>\n        <div>\n            {posts && posts?.map((post) => {\n\n            //     return post.active\n            // }).map((post, i) => {\n                return (\n                    <div className=\"posts_info\" key={post._id}>\n                        <h2 className=\"postTitle\" >Title: {post.title}</h2>\n                        <h2 className=\"postPrice\">Price: ${post.price}</h2>\n                        <h2 className=\"postDescription\" >Description: {post.description}</h2>\n\n                        <div className=\"myMessages\">\n                            {posts.messages?.map((message) => {\n                                return (\n                                    <div key={message._id}>\n                                        <h3 className=\"gotMessages\">message:</h3>\n                                        <h4 className=\"messageUserName\">From: {message.fromUser.username}</h4>\n                                        <h4 className=\"messageContent\">\"{message.content}\"</h4>\n\n                                    </div>)\n                            })\n                            }\n                        </div>\n\n\n                        <div>{post.active === true ? <button className=\"deleteButton\" onClick={() => deletePost(post._id)} >Delete</button> : ''}\n                        </div>\n                    </div>\n                )\n\n            })}\n            \n        </div>\n    </>\n    )\n};\n\n\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}