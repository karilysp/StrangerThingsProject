{"ast":null,"code":"var _jsxFileName = \"/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/components/Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BASE_URL = `https://strangers-things.herokuapp.com/api/${COHORT_NAME}`;\nconst Profile = _ref => {\n  _s();\n  let {\n    token\n  } = _ref;\n  const [myPosts, setMyPosts] = useState([]);\n  const postedByMe = async () => {\n    try {\n      const res = await fetch(`${BASE_URL}/users/me`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await res.json();\n      console.log(data);\n      setMyPosts(data.data.posts);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const postDelete = async id => {\n    try {\n      const response = await fetch(`${BASE_URL}/posts/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const deletedPost = await response.json();\n      console.log(deletedPost);\n    } catch (error) {\n      console.log('err'.err);\n    }\n  };\n  const handleDelete = async id => {\n    await postDelete(id);\n    postedByMe();\n  };\n  useEffect(() => {\n    postedByMe();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: myPosts.filter(post => {\n        return post.active;\n      }).map((post, i) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"posts_info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"postTitle\",\n            children: [\"Title: \", post.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"postPrice\",\n            children: [\"Price: $\", post.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"postDescription\",\n            children: [\"Description: \", post.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"myMessages\",\n            children: post.messages.map((message, i) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"gotMessages\",\n                  children: \"message:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"messageUserName\",\n                  children: [\"From: \", message.fromUser.username]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"messageContent\",\n                  children: [\"\\\"\", message.content, \"\\\"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 41\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 37\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: post.active === true ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"deleteButton\",\n              onClick: () => handleDelete(post._id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 54\n            }, this) : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(Profile, \"KoWOBgcj0Y6aKrQaVLPUV6djQfg=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","BASE_URL","COHORT_NAME","Profile","_ref","_s","token","myPosts","setMyPosts","postedByMe","res","fetch","headers","data","json","console","log","posts","error","postDelete","id","response","method","deletedPost","err","handleDelete","children","filter","post","active","map","i","className","title","fileName","_jsxFileName","lineNumber","columnNumber","price","description","messages","message","fromUser","username","content","onClick","_id","_c","$RefreshReg$"],"sources":["/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nconst BASE_URL = `https://strangers-things.herokuapp.com/api/${COHORT_NAME}`\n\nconst Profile = ({ token }) => {\n\n    const [myPosts, setMyPosts] = useState([])\n\n\n    const postedByMe = async () => {\n        try {\n            const res = await fetch(`${BASE_URL}/users/me`, {\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`\n                }\n            });\n            const data = await res.json();\n            console.log(data)\n            setMyPosts(data.data.posts);\n        } catch (error) {\n            console.error(error)\n        }\n    }\n\n    const postDelete = async (id) => {\n        try {\n            const response = await fetch(`${BASE_URL}/posts/${id}`, {\n                method: \"DELETE\",\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`\n                }\n            });\n\n            const deletedPost = await response.json();\n            console.log(deletedPost);\n        } catch (error) {\n            console.log('err'.err);\n        }\n    };\n\n    const handleDelete = async (id) => {\n        await postDelete(id)\n        postedByMe()\n    }\n\n    useEffect(() => {\n        postedByMe();\n\n    }, []);\n\n    return <>\n        <div>\n            {myPosts.filter((post) => {\n                return post.active\n            }).map((post, i) => {\n                return (\n                    <div className=\"posts_info\" key={i}>\n                        <h2 className=\"postTitle\" >Title: {post.title}</h2>\n                        <h2 className=\"postPrice\">Price: ${post.price}</h2>\n                        <h2 className=\"postDescription\" >Description: {post.description}</h2>\n                        <div className=\"myMessages\">\n                            {post.messages.map((message, i) => {\n                                return (\n                                    <div key={i}>\n                                        <h3 className=\"gotMessages\">message:</h3>\n                                        <h4 className=\"messageUserName\">From: {message.fromUser.username}</h4>\n                                        <h4 className=\"messageContent\">\"{message.content}\"</h4>\n\n                                    </div>)\n                            })\n                            }\n                        </div>\n\n\n                        <div>{post.active === true ? <button className=\"deleteButton\" onClick={() => handleDelete(post._id)} >Delete</button> : ''}\n                        </div>\n                    </div>\n                )\n\n            })}\n        </div>\n    </>\n\n};\n\n\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}