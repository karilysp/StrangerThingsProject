{"ast":null,"code":"const COHORT_NAME = '2301-ftb-et-web-pt';\nexport const BASE_URL = `https://strangers-things.herokuapp.com/api/${COHORT_NAME}`;\nexport const registerUser = async user => {\n  try {\n    const response = await fetch(`${BASE_URL}/users/register`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user\n      })\n    });\n    const result = await response.json();\n    // You can log ▲▲▲ the result\n    // here ▼▼▼ to view the json object before returning it\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const fetchPosts = async () => {\n  try {\n    const response = await fetch(`${BASE_URL}/posts`);\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const login = async user => {\n  try {\n    const response = await fetch(`${BASE_URL}/users/login`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user\n      })\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const makePost = async (token, post) => {\n  try {\n    const response = await fetch(`${BASE_URL}/posts`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        post\n      })\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const updatePost = async _ref => {\n  let {\n    postId,\n    token,\n    title,\n    description,\n    price,\n    willDeliver\n  } = _ref;\n  try {\n    const response = await fetch(`${BASE_URL}/posts/${{\n      postId\n    }}`, {\n      method: \"PATCH\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        post: {\n          title,\n          description,\n          price,\n          willDeliver\n        }\n      })\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const myData = async token => {\n  try {\n    const response = await fetch(`${BASE_URL}/users/me`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const results = await response.json();\n    return results;\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const deletePost = async postId => {\n  try {\n    const token = localStorage.getItem('token');\n    const response = await fetch(`${BASE_URL}/posts/${postId}`, {\n      method: \"DELETE\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const postMessage = async _ref2 => {\n  let {\n    postId,\n    message\n  } = _ref2;\n  try {\n    const response = await fetch(`${BASE_URL}/posts/${postId}/messages`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        message: {\n          content: `${message}`\n        }\n      })\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};","map":{"version":3,"names":["COHORT_NAME","BASE_URL","registerUser","user","response","fetch","method","headers","body","JSON","stringify","result","json","console","log","err","error","fetchPosts","login","makePost","token","post","updatePost","_ref","postId","title","description","price","willDeliver","myData","results","deletePost","localStorage","getItem","postMessage","_ref2","message","content"],"sources":["/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/ajax-requests/index.js"],"sourcesContent":["const COHORT_NAME = '2301-ftb-et-web-pt'\nexport const BASE_URL = `https://strangers-things.herokuapp.com/api/${COHORT_NAME}`\n\n\n\n\nexport const registerUser = async (user) => {\n\n    try {\n        const response = await fetch(`${BASE_URL}/users/register`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                user\n\n            }),\n        });\n        const result = await response.json();\n        // You can log ▲▲▲ the result\n        // here ▼▼▼ to view the json object before returning it\n        console.log(result)\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const fetchPosts = async () => {\n    try {\n        const response = await fetch(`${BASE_URL}/posts`)\n\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const login = async (user) => {\n\n    try {\n        const response = await fetch(`${BASE_URL}/users/login`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n               user,\n            })\n        });\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const makePost = async (token, post) => {\n\n    try {\n        const response = await fetch(`${BASE_URL}/posts`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n               post\n            })\n        });\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const updatePost = async ({postId, token, title, description, price, willDeliver}) => {\n    try {\n      \n        const response = await fetch(`${BASE_URL}/posts/${{postId}}`, {\n            method: \"PATCH\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                post: {\n                    title,\n                    description,\n                    price,\n                    willDeliver\n                }\n            })\n        });\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\n\n\nexport const myData = async (token) => {\n    try {\n        const response = await fetch(`${BASE_URL}/users/me`, {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            }\n        });\n        const results = await response.json();\n       return results;\n\n    } catch (error) {\n        console.log(error)\n    }\n}\n\nexport const deletePost = async (postId) => {\n    try {\n        const token = localStorage.getItem('token');\n        const response = await fetch(`${BASE_URL}/posts/${postId }`, {\n            method: \"DELETE\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            }\n        });\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const postMessage = async ({postId, message}) => {\n    try {\n        const response = await fetch(`${BASE_URL}/posts/${postId}/messages`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                message: {\n                    content: `${message}`\n                }\n            })\n        });\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}