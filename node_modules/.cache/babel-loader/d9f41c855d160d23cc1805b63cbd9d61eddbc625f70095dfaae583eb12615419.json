{"ast":null,"code":"const COHORT_NAME = '2301-ftb-et-web-pt';\nexport const BASE_URL = `https://strangers-things.herokuapp.com/api/${COHORT_NAME}`;\nexport const registerUser = async user => {\n  try {\n    const response = await fetch(`${BASE_URL}/users/register`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user\n      })\n    });\n    const result = await response.json();\n    // You can log ▲▲▲ the result\n    // here ▼▼▼ to view the json object before returning it\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const fetchPosts = async () => {\n  try {\n    const response = await fetch(`${BASE_URL}/posts`);\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const login = async user => {\n  try {\n    const response = await fetch(`${BASE_URL}/users/login`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user\n      })\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const makePost = async (token, post) => {\n  try {\n    const response = await fetch(`${BASE_URL}/posts`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        post\n      })\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const updatePost = async (postId, token, updatedPost) => {\n  try {\n    const response = await fetch(`${BASE_URL}/posts/${{\n      postId\n    }}`, {\n      method: \"PATCH\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        post: {\n          title: `${updatedTitle}`,\n          description: `${updatedDescription}`,\n          price: `${updatedPrice}`,\n          location: `${updatedLocation}`,\n          willDeliver: true\n        }\n      })\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const myData = async token => {\n  try {\n    const response = await fetch(`${BASE_URL}/users/me`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const results = await response.json();\n    return results;\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const deletePost = async postId => {\n  try {\n    const token = localStorage.getItem('token');\n    const response = await fetch(`${BASE_URL}/posts/${postId}`, {\n      method: \"DELETE\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport const postMessage = async _ref => {\n  let {\n    postId,\n    message\n  } = _ref;\n  try {\n    const response = await fetch(`${BASE_URL}/posts/${postId}/messages`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        message: {\n          content: message.content\n        }\n      })\n    });\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.error(err);\n  }\n};","map":{"version":3,"names":["COHORT_NAME","BASE_URL","registerUser","user","response","fetch","method","headers","body","JSON","stringify","result","json","console","log","err","error","fetchPosts","login","makePost","token","post","updatePost","postId","updatedPost","title","updatedTitle","description","updatedDescription","price","updatedPrice","location","updatedLocation","willDeliver","myData","results","deletePost","localStorage","getItem","postMessage","_ref","message","content"],"sources":["/Users/kari/Library/Mobile Documents/com~apple~CloudDocs/Code/Coding Bootcamp/Projects /StrangerThings/src/ajax-requests/index.js"],"sourcesContent":["const COHORT_NAME = '2301-ftb-et-web-pt'\nexport const BASE_URL = `https://strangers-things.herokuapp.com/api/${COHORT_NAME}`\n\n\n\n\nexport const registerUser = async (user) => {\n\n    try {\n        const response = await fetch(`${BASE_URL}/users/register`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                user\n\n            }),\n        });\n        const result = await response.json();\n        // You can log ▲▲▲ the result\n        // here ▼▼▼ to view the json object before returning it\n        console.log(result)\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const fetchPosts = async () => {\n    try {\n        const response = await fetch(`${BASE_URL}/posts`)\n\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const login = async (user) => {\n\n    try {\n        const response = await fetch(`${BASE_URL}/users/login`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n               user,\n            })\n        });\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const makePost = async (token, post) => {\n\n    try {\n        const response = await fetch(`${BASE_URL}/posts`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n               post\n            })\n        });\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const updatePost = async (postId, token, updatedPost) => {\n    try {\n      \n        const response = await fetch(`${BASE_URL}/posts/${{postId}}`, {\n            method: \"PATCH\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                post: {\n                    title: `${updatedTitle}`,\n                    description: `${updatedDescription}`,\n                    price: `${updatedPrice}`,\n                    location: `${updatedLocation}`,\n                    willDeliver: true\n                }\n            })\n        });\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\n\n\nexport const myData = async (token) => {\n    try {\n        const response = await fetch(`${BASE_URL}/users/me`, {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            }\n        });\n        const results = await response.json();\n       return results;\n\n    } catch (error) {\n        console.log(error)\n    }\n}\n\nexport const deletePost = async (postId) => {\n    try {\n        const token = localStorage.getItem('token');\n        const response = await fetch(`${BASE_URL}/posts/${ postId }`, {\n            method: \"DELETE\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            }\n        });\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const postMessage = async ({postId, message}) => {\n    try {\n        const response = await fetch(`${BASE_URL}/posts/${postId}/messages`, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                message: {\n                    content: message.content\n                }\n            })\n        });\n        const result = await response.json();\n        console.log(result);\n        return result\n    } catch (err) {\n        console.error(err);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}